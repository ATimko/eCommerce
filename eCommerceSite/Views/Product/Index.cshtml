@model ProductIndexViewModel
@{
    ViewData["Title"] = "Product Catalog";
}

<a asp-action="Create"
   asp-controller="Product">Create Product</a><br />

@*Html.ActionLink(linkText:"Search Products",
                    actionName:"Search",
                    controllerName:Product")*@

<a asp-action="Search" asp-controller="Product">Search Product</a>

<h1>All available products</h1>
@*
    <table class="table">
        <thead>
            <tr>
                <th>
                    @Html.DisplayNameFor(m => m.Products.First().Name)
                </th>
                <th>
                    @Html.DisplayNameFor(m => m.Products.First().Price)
                </th>
                <th>
                    @Html.DisplayNameFor(m => m.Products.First().Category)
                </th>

            </tr>
        </thead>
        <tbody>
            @foreach(Product p in Model.Products)
            {
            <tr>
                <td>
                    @Html.DisplayFor(m => p.Name)
                </td>
                <td>
                    @Html.DisplayFor(m => p.Price)
                </td>
                <td>
                    @Html.DisplayFor(m => p.Category)
                </td>
                <td>
                    <a class="btn btn-secondary" asp-action="Edit" asp-route-id="@p.ProductId">Edit Product</a>
                    | <a class="btn btn-danger" asp-action="Delete" asp-route-id="@p.ProductId">Delete Product</a>
                    | <a class="btn btn-primary"
                            asp-action="Add"
                            asp-route-id="@p.ProductId"
                            asp-controller="Cart">Add To Cart</a>
                </td>
            </tr>
            }
        </tbody>
    </table>
*@

@*TODO: Add Description*@

@await Html.PartialAsync("_ProductList", Model.Products)

<ul class="pagination">
    @for (int i = 1; i <= Model.MaxPage; i++)
    {
        if (i == Model.CurrentPage)
        {
            <li class="page-item active">
                <span class="page-link">Page @i</span>
            </li>
        }
        else
        {
            <li class="page-item">
                <a class="page-link" asp-action="Index"
                   asp-route-id="@i">Page @i</a>
            </li>
        }

    }
    @*<li class="page-item">
            <a class="page-link" asp-action="Index"
               asp-route-id="2">Page 2</a>
        </li>*@
</ul>